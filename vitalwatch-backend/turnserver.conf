# VitalWatch Coturn TURN Server Configuration
# Self-hosted WebRTC relay server for NAT traversal

# Network settings
listening-port=3478
tls-listening-port=5349
alt-listening-port=3479
alt-tls-listening-port=5350

# Relay ports range
min-port=49152
max-port=65535

# Use fingerprint in TURN messages
fingerprint

# Long-term credential mechanism
lt-cred-mech

# Realm (your domain)
realm=vitalwatch.local

# Static user credentials (override with env vars in production)
user=vitalwatch:VitalWatch2024!

# Server name
server-name=vitalwatch-turn

# Logging
log-file=stdout
verbose

# Security
no-multicast-peers
no-cli
no-tlsv1
no-tlsv1_1

# Deny specific IP ranges (security)
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=100.64.0.0-100.127.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=169.254.0.0-169.254.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.0.0.0-192.0.0.255
denied-peer-ip=192.0.2.0-192.0.2.255
denied-peer-ip=192.88.99.0-192.88.99.255
denied-peer-ip=198.18.0.0-198.19.255.255
denied-peer-ip=198.51.100.0-198.51.100.255
denied-peer-ip=203.0.113.0-203.0.113.255
denied-peer-ip=240.0.0.0-255.255.255.255

# Allow localhost for development
allowed-peer-ip=192.168.0.0-192.168.255.255

# Stale nonce lifetime (seconds)
stale-nonce=600

# Max allocations per user
total-quota=100
user-quota=10

# Bandwidth limits (bytes per second, 0 = unlimited)
max-bps=0

# Session limits
max-allocate-lifetime=3600
